name: Core Workflow ðŸŽ¯

on:
  push:
    branches: ["**"]

jobs:
  run-playwright-tests:
    name: Run Playwright Tests
    uses: ./.github/workflows/playwright.yml
    secrets: inherit

  deploy-to-netlify:
    name: Deploy to Netlify
    uses: ./.github/workflows/netlify-deploy.yml
    needs: run-playwright-tests
    if: ${{ needs.run-playwright-tests.result == 'success' }}
    secrets: inherit
